var form2js=function(){"use strict";function a(a,d,e,f,g,h){("undefined"==typeof e||null==e)&&(e=!0),("undefined"==typeof f||null==f)&&(f=!0),("undefined"==typeof d||null==d)&&(d="."),arguments.length<6&&(h=!1),a="string"==typeof a?document.getElementById(a):a;var i,j=[],k=0;if(a.constructor==Array||"undefined"!=typeof NodeList&&a.constructor==NodeList)for(;i=a[k++];)j=j.concat(c(i,g,h));else j=c(a,g,h);return b(j,e,f,d)}function b(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r={},s={};for(e=0;e<a.length;e++)if(i=a[e].value,c&&""===i&&(i=null),(!b||""!==i&&null!==i)&&(p=a[e].name,"undefined"!=typeof p)){for(q=p.split(d),j=[],k=r,l="",f=0;f<q.length;f++)if(o=q[f].split("]["),o.length>1)for(g=0;g<o.length;g++)if(o[g]=0==g?o[g]+"]":g==o.length-1?"["+o[g]:"["+o[g]+"]",n=o[g].match(/([a-z_]+)?\[([a-z_][a-z0-9_]+?)\]/i))for(h=1;h<n.length;h++)n[h]&&j.push(n[h]);else j.push(o[g]);else j=j.concat(o);for(f=0;f<j.length;f++)o=j[f],o.indexOf("[]")>-1&&f==j.length-1?(m=o.substr(0,o.indexOf("[")),l+=m,k[m]||(k[m]=[]),k[m].push(i)):o.indexOf("[")>-1?(m=o.substr(0,o.indexOf("[")),n=o.replace(/(^([a-z_]+)?\[)|(\]$)/gi,""),l+="_"+m+"_"+n,s[l]||(s[l]={}),""==m||k[m]||(k[m]=[]),f==j.length-1?""==m?(k.push(i),s[l][n]=k[k.length-1]):(k[m].push(i),s[l][n]=k[m][k[m].length-1]):s[l][n]||(k[m].push(/^[a-z_]+\[?/i.test(j[f+1])?{}:[]),s[l][n]=k[m][k[m].length-1]),k=s[l][n]):(l+=o,f<j.length-1?(k[o]||(k[o]={}),k=k[o]):k[o]=i)}return r}function c(a,b,c){var f=e(a,b,c);return f.length>0?f:d(a,b,c)}function d(a,b,c){for(var d=[],f=a.firstChild;f;)d=d.concat(e(f,b,c)),f=f.nextSibling;return d}function e(a,b,c){var e,h,i,j=f(a,c);return e=b&&b(a),e&&e.name?i=[e]:""!=j&&a.nodeName.match(/INPUT|TEXTAREA/i)?(h=g(a),i=null==h&&"radio"==a.type?[]:[{name:j,value:h}]):""!=j&&a.nodeName.match(/SELECT/i)?(h=g(a),i=[{name:j.replace(/\[\]$/,""),value:h}]):i=d(a,b,c),i}function f(a,b){return a.name&&""!=a.name?a.name:b&&a.id&&""!=a.id?a.id:""}function g(a){if(a.disabled)return null;switch(a.nodeName){case"TEXTAREA":return $("<div/>").text(a.value).html();case"INPUT":switch(a.type.toLowerCase()){case"radio":case"checkbox":if(a.checked)return a.value;break;case"button":case"reset":case"submit":case"image":return"";default:return a.value}break;case"SELECT":return h(a)}return null}function h(a){var b,c,d,e=a.multiple,f=[];if(!e)return a.value;for(b=a.getElementsByTagName("option"),c=0,d=b.length;d>c;c++)b[c].selected&&f.push(b[c].value);return f}return a}();LSP.utilities=LSP.utilities||{},LSP.utilities.formToObject=form2js;